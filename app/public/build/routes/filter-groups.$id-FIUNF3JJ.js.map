{
  "version": 3,
  "sources": ["../../../app/routes/filter-groups.$id.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app\\\\\\\\routes\\\\\\\\filter-groups.$id.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app\\\\routes\\\\filter-groups.$id.tsx\");\n  import.meta.hot.lastModified = \"1745911840253.4832\";\n}\n// REMIX HMR END\n\n// ~/routes/filter-groups.$id.tsx\nimport { json } from \"@remix-run/node\";\nimport { useNavigate, useParams } from \"@remix-run/react\";\nimport { useState, useEffect } from \"react\";\nimport { FilterGroupService } from \"~/services/filter-group.service\";\n\n// This is a client-side only route, loader is needed for types\nexport const loader = async ({\n  params\n}) => {\n  return json({\n    id: params.id\n  });\n};\nexport default function FilterGroupForm() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const isNew = id === \"new\";\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [filters, setFilters] = useState({});\n  const [error, setError] = useState(\"\");\n  const [showFilterDetails, setShowFilterDetails] = useState(false);\n\n  // Load filter group if editing\n  useEffect(() => {\n    if (!isNew && id) {\n      const filterGroup = FilterGroupService.getById(id);\n      if (filterGroup) {\n        setName(filterGroup.name);\n        setDescription(filterGroup.description || \"\");\n        setFilters(filterGroup.filters);\n      } else {\n        setError(\"Grupo de filtros no encontrado\");\n      }\n    }\n  }, [id, isNew]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!name.trim()) {\n      setError(\"El nombre es obligatorio\");\n      return;\n    }\n    try {\n      FilterGroupService.save({\n        id: isNew ? undefined : id,\n        name,\n        description,\n        filters\n      });\n      navigate(\"/filter-groups\");\n    } catch (err) {\n      setError(\"Error al guardar el grupo de filtros\");\n      console.error(err);\n    }\n  };\n\n  // Format filter values for display\n  const formatFilterValue = (key, value) => {\n    if (key === 'mida_lead') {\n      const sizeMap = {\n        '1': 'Microempresa',\n        '2': 'Peque\u00F1a',\n        '3': 'Mediana',\n        '4': 'Grande'\n      };\n      return sizeMap[value] || value;\n    }\n    if (typeof value === 'boolean') {\n      return value ? 'S\u00ED' : 'No';\n    }\n    return value;\n  };\n\n  // Group filters by category for better display\n  const groupFiltersByCategory = filters => {\n    const categories = {\n      \"Informaci\u00F3n b\u00E1sica\": {},\n      \"Ubicaci\u00F3n\": {},\n      \"Caracter\u00EDsticas\": {},\n      \"Detalles financieros\": {},\n      \"Contacto\": {},\n      \"Otros\": {}\n    };\n\n    // Asignar cada filtro a su categor\u00EDa\n    Object.entries(filters).forEach(([key, value]) => {\n      if ([\"nom_lead\", \"nom_basic_lead\", \"nom_empresarial_lead\", \"nom_fiscal_lead\", \"activitat_lead\", \"cnae_lead\", \"mida_lead\", \"actiu_lead\"].includes(key)) {\n        categories[\"Informaci\u00F3n b\u00E1sica\"][key] = value;\n      } else if ([\"provincia_lead\", \"poblacio_lead\", \"comarca_lead\", \"adreca_lead\", \"codi_postal_lead\"].includes(key)) {\n        categories[\"Ubicaci\u00F3n\"][key] = value;\n      } else if ([\"nomes_temporada_lead\", \"conciencia_ecologica_lead\", \"solidaria_social_lead\", \"importa_exporta_lead\", \"any_creacio_lead\", \"nombre_treballadors_lead_min\", \"nombre_treballadors_lead_max\"].includes(key)) {\n        categories[\"Caracter\u00EDsticas\"][key] = value;\n      } else if ([\"capital_social_lead_min\", \"capital_social_lead_max\", \"cotitza_borsa_lead\"].includes(key)) {\n        categories[\"Detalles financieros\"][key] = value;\n      } else if ([\"email_lead\", \"NIF_lead\", \"xarxe_social_lead\", \"link_web_lead\", \"idioma_preferent_lead\"].includes(key)) {\n        categories[\"Contacto\"][key] = value;\n      } else {\n        categories[\"Otros\"][key] = value;\n      }\n    });\n\n    // Eliminar categor\u00EDas vac\u00EDas\n    for (const category in categories) {\n      if (Object.keys(categories[category]).length === 0) {\n        delete categories[category];\n      }\n    }\n    return categories;\n  };\n\n  // Render formatted filter labels\n  const getFilterLabel = key => {\n    const filterLabels = {\n      'provincia_lead': 'Provincia',\n      'poblacio_lead': 'Poblaci\u00F3n',\n      'comarca_lead': 'Comarca',\n      'adreca_lead': 'Direcci\u00F3n',\n      'codi_postal_lead': 'C\u00F3digo postal',\n      'cnae_lead': 'CNAE',\n      'mida_lead': 'Tama\u00F1o',\n      'actiu_lead': 'Activo',\n      'any_creacio_lead': 'A\u00F1o creaci\u00F3n',\n      'nombre_treballadors_lead_min': 'Trabajadores (m\u00EDn)',\n      'nombre_treballadors_lead_max': 'Trabajadores (m\u00E1x)',\n      'idioma_preferent_lead': 'Idioma',\n      'cotitza_borsa_lead': 'Cotiza en bolsa',\n      'nomes_temporada_lead': 'Temporada',\n      'conciencia_ecologica_lead': 'Ecol\u00F3gica',\n      'solidaria_social_lead': 'Solidaria',\n      'importa_exporta_lead': 'Importa/Exporta',\n      'email_lead': 'Email',\n      'NIF_lead': 'NIF',\n      'nom_basic_lead': 'Nombre b\u00E1sico',\n      'nom_empresarial_lead': 'Nombre empresarial',\n      'nom_fiscal_lead': 'Nombre fiscal',\n      'activitat_lead': 'Actividad',\n      'capital_social_lead_min': 'Capital social (m\u00EDn)',\n      'capital_social_lead_max': 'Capital social (m\u00E1x)',\n      'xarxe_social_lead': 'Redes sociales',\n      'link_web_lead': 'Sitio web'\n    };\n    return filterLabels[key] || key.replace('_lead', '');\n  };\n  return <div className=\"p-6 max-w-7xl mx-auto space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h1 className=\"text-2xl font-bold\">\r\n          {isNew ? \"Nuevo Grupo de Filtros\" : \"Editar Grupo de Filtros\"}\r\n        </h1>\r\n      </div>\r\n\r\n      <div className=\"bg-white p-6 rounded-lg shadow\">\r\n        {error && <div className=\"mb-4 p-4 bg-red-100 text-red-700 rounded\">\r\n            {error}\r\n          </div>}\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-1\" htmlFor=\"name\">\r\n                Nombre:\r\n              </label>\r\n              <input id=\"name\" type=\"text\" className=\"w-full border rounded p-2\" value={name} onChange={e => setName(e.target.value)} required />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-1\" htmlFor=\"description\">\r\n                Descripci\u00F3n (opcional):\r\n              </label>\r\n              <textarea id=\"description\" className=\"w-full border rounded p-2\" rows={3} value={description} onChange={e => setDescription(e.target.value)} />\r\n            </div>\r\n\r\n            {!isNew && <div>\r\n                <div className=\"flex justify-between items-center mb-2\">\r\n                  <h3 className=\"text-lg font-medium\">Filtros Guardados</h3>\r\n                  <button type=\"button\" className=\"text-blue-600 hover:text-blue-900 text-sm\" onClick={() => setShowFilterDetails(!showFilterDetails)}>\r\n                    {showFilterDetails ? 'Ocultar detalles' : 'Mostrar detalles'}\r\n                  </button>\r\n                </div>\r\n                \r\n                {showFilterDetails && Object.keys(filters).length > 0 ? <div className=\"bg-gray-50 p-4 rounded border\">\r\n                    {Object.entries(groupFiltersByCategory(filters)).map(([category, categoryFilters]) => <div key={category} className=\"mb-4\">\r\n                        <h4 className=\"text-sm font-medium mb-2 text-gray-700\">{category}</h4>\r\n                        <ul className=\"space-y-1\">\r\n                          {Object.entries(categoryFilters).map(([key, value]) => <li key={key} className=\"text-sm\">\r\n                              <strong>{getFilterLabel(key)}:</strong> {formatFilterValue(key, value)}\r\n                            </li>)}\r\n                        </ul>\r\n                      </div>)}\r\n                  </div> : <div className=\"bg-gray-50 p-4 rounded border text-gray-500 text-sm\">\r\n                    {Object.keys(filters).length === 0 ? 'No hay filtros configurados.' : `Este grupo tiene ${Object.keys(filters).length} filtros configurados.`}\r\n                  </div>}\r\n                \r\n                <p className=\"text-sm text-gray-500 mt-2\">\r\n                  Para modificar los filtros, debes aplicar este grupo en la p\u00E1gina de asignaci\u00F3n masiva,\r\n                  hacer los cambios necesarios y guardar como un nuevo grupo de filtros.\r\n                </p>\r\n              </div>}\r\n\r\n            <div className=\"flex justify-end space-x-4 pt-4\">\r\n              <button type=\"button\" onClick={() => navigate(\"/filter-groups\")} className=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300\">\r\n                Cancelar\r\n              </button>\r\n              <button type=\"submit\" className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\">\r\n                Guardar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>;\n}\n_s(FilterGroupForm, \"Iu8CauZgoU9wQoUmx3Z7SUNA4BM=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = FilterGroupForm;\nvar _c;\n$RefreshReg$(_c, \"FilterGroupForm\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["import_react", "filters"]
}
